{% extends 'base.html' %}

{% block content %}
<h2>–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</h2>

{% if user.is_authenticated %}
    <p>–ü—Ä–∏–≤–µ—Ç, {{ user.username }}!</p>
{% else %}
    <p><a href="{% url 'login' %}">–í–æ–π–¥–∏—Ç–µ</a> –∏–ª–∏ <a href="{% url 'register' %}">–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</a>, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –ø–æ—Å—Ç—ã –∏ –ø–∏—Å–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.</p>
{% endif %}

<div>
    {% for post in page_obj %}
        <div style="border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;">
            <strong>{{ post.author.username }}</strong> ‚Ä¢ {{ post.created_at|date:"d.m.Y H:i" }}
            <p>{{ post.content|truncatewords:30 }}</p>
            <small>‚ù§Ô∏è {{ post.likes_count }} | üí¨ {{ post.comments_count }}</small>
        </div>
    {% empty %}
        <p>–ü–æ–∫–∞ –Ω–∏–∫—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–ø–∏—Å–∞–ª.</p>
    {% endfor %}
</div>
<div>
    {% if page_obj.has_previous %}
        <a href="?page=1">&laquo; –ø–µ—Ä–≤–∞—è</a>
        <a href="?page={{ page_obj.previous_page_number }}">–Ω–∞–∑–∞–¥</a>
    {% endif %}

    <span>–°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page_obj.number }} –∏–∑ {{ page_obj.paginator.num_pages }}</span>

    {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">–≤–ø–µ—Ä—ë–¥</a>
        <a href="?page={{ page_obj.paginator.num_pages }}">–ø–æ—Å–ª–µ–¥–Ω—è—è &raquo;</a>
    {% endif %}
</div>
{% endblock %}